## Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

### 1. Обязательная задача 1

        Опишите кратко, как вы поняли: в чем основное отличие 
        полной (аппаратной) виртуализации, 
        паравиртуализации и виртуализации на основе ОС.

ОТВЕТ:

1. Полная виртуализация предполагает работу гостевых ОС напрямую с хостовым железом, что дает высокую производительность, но моежт приводить к нецелессобразному использованию ресурсов, к неполному их использованию (утилизации)
2. Паравиртуализация использует ОС хостовой машины, что требует добавление эмуляции среды для гостевой ОС, что не может похвастаться быстрой производительностью, а так же может приводить к такой же не полной утилизации ресурсов из-за выедления фиксированных значений при старте, как и у аппаратной.
3. Виртуализация на основе ОС - это способ использования части хостовой ОС и железа для нужд микровиртуальных машин. Скорость большая, ресурсы затрачиваются минимальные (только исходя из требований микровиртуальной машины - контейнера, что позволяет использовать (утилизировать) все ресурсы более плотно).
   

### 2. Обязательная задача 2

        Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

        Организация серверов:

        физические сервера,
        паравиртуализация,
        виртуализация уровня ОС.
        
        Условия использования:

        1. Высоконагруженная база данных, чувствительная к отказу.
        2. Различные web-приложения.
        3. Windows системы для использования бухгалтерским отделом.
        4. Системы, выполняющие высокопроизводительные расчеты на GPU.
        
        Опишите, почему вы выбрали к каждому целевому использованию такую организацию. 

ОТВЕТ:

1. Физический сервер: Для высоконагруженных систем, требовательным к аппаратным ресурсам и их количеству лучше исполльзовать работу с железом "напрямую", а избыточность системы достигается ее Горячим резервным копированием "на лету" на другие серверы, так можно на базе физ. серверов создать высоконагруженный кластер (да, дороговизна, да сложность и дороговизна масштабируемости, но уже давно есть блейд серверы и иже подобные).
2. Виртуализация уровня ОС - конетенеры: Быстрота развертывания, большая утилизация ресурсов для множества небольших приложений.
3. Паравиртуализация: Если финкционально бугалтерские отделы имеют фиксированные наборы ПО, то для создания новых мест, коррекции имеющихся можно использовать клонирование машин с технологие паравиртуализации.
4. Физический сервер: Опять же прямой доступ к ресурсам, возможность объеденять в кластере на уровне ПО.

### 3.  Обязательная задача 3

        Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

        Сценарии:

        1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. 
        Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, 
        репликации данных и автоматизированного механизма создания резервных копий.

        2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) 
        инфраструктуры на базе Linux и Windows виртуальных машин.

        3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

        4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

ОТВЕТ:

Я не силен в системах виртуализации, знаком с ними лично лишь на 30% из представленных, однако попробую ответить исходя из логики.

1. VMWare продукты давно славятся своей удобностью в управлении большим количеством машин, являют собой аппратные гипервизоры, что позволяет выделять ресурсы и работать с ними напрямую для гостевых ОС, а так же большой спектр поддерживаемых гостевых ОС.
2. Я работал с системой виртуализации на базе Proxmox, реализовывал большое количество проектов серверов инфраструктуры (Контроллер домена, почтовик, телефонии сервер, какое-нибудь файловое хранилище или терминальный windows-серверв + отдельный физ сервер для 1С - очень частая схема). 
3. Hyper-V гипервизор в режиме Core (а лучше два, для отказоустойчивости) + они же системы хранения данных, работающие крест на крест... первая:H1+СХД2 и вторая: H2+СХД1
4. Чаще продукты VirtualBOX, реже Hyper-V в режиме паравиртуальных машин. А вообще, на первом месте -  это все-таки решения контейниризации: Docker и иже с ним подобные для большой скорости развертывания и удобства управления.

### 4.  Обязательная задача 4

        Опишите возможные проблемы и недостатки гетерогенной среды виртуализации 
        (использования нескольких систем управления виртуализацией одновременно) 
        и что необходимо сделать для минимизации этих рисков и проблем. 
        Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? 
        Мотивируйте ваш ответ примерами.

ОТВЕТ:

Основные проблемы - это грамотность персонала из-за большого разброса вариантов виртуализации, разница в методах и способах организации, котнороля и обслуживания.
Если у вас имеется инфраструктура на Hyper-V, а вам надо мигрировать машину на ваш ESXi, то могут возникнуть трудости.
Для минимизации рисков и проблем необходимо использовать единую среду виртуализации, в зависимости от нужд, потребностей и средств.
В моем примере есть разные, но не столь общирные факты применения гетерогенности систем виртуализации, так, к примеру, оптимальным выходом для решения задачи инфраструктуры компании
было решено, в связи с постепенным ее ростом, оптимизацией и невозможностью нести вообще затраты на новое ПО и оборудование, использовалось решение на паравиртуализации Hyper-V хостового сервера, используемого, как сервер хранения файлов + виртуальнам машина Hyper-V, с контроллером домена на zentyal + виртуальнам машина Hypre-V на отдельном скоростном диске под нужды 1С и терминального доступа к 1С,
а так же отдельная машина на FreeBSD, с сервисом FTP для локальнос сети и хранения бэкапов всех перечисленных систем + JAIL (конткейнер, виртуализация уровня ОС с ее изоляцией) для нужд второго контроллера домена + JAIL для межсетевого программного экрана, шлюза.
Можно ли это назвать гетерогенной системой в мелких масштабах - думаю да.

Если же вопрос состоит в том, стоило бы для более крупных проектов применять гетерогенность, то скорее ответ - нет, но при этом все зависит от того, какие требования применены к системе, какие обстоятельства и условия для ее работы необходимы.
